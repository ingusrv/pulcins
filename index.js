var Be=Object.defineProperty;var ze=(e,t,n)=>t in e?Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var se=(e,t,n)=>(ze(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function Z(){}function Se(e){return e()}function ce(){return Object.create(null)}function R(e){e.forEach(Se)}function we(e){return typeof e=="function"}function Ce(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Je(e){return Object.keys(e).length===0}function c(e,t){e.appendChild(t)}function ee(e,t,n){e.insertBefore(t,n||null)}function Q(e){e.parentNode&&e.parentNode.removeChild(e)}function oe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function U(e){return document.createTextNode(e)}function y(){return U(" ")}function Ge(){return U("")}function E(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function _(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ie(e){return e===""?null:+e}function Me(e){return Array.from(e.childNodes)}function X(e,t){t=""+t,e.data!==t&&(e.data=t)}function G(e,t){e.value=t??""}function ne(e,t,n){for(let l=0;l<e.options.length;l+=1){const o=e.options[l];if(o.__value===t){o.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function fe(e){const t=e.querySelector(":checked");return t&&t.__value}function le(e,t,n){e.classList.toggle(t,!!n)}let ae;function Y(e){ae=e}const F=[],de=[];let K=[];const pe=[],Ae=Promise.resolve();let ue=!1;function Pe(){ue||(ue=!0,Ae.then(ye))}function x(e){K.push(e)}const re=new Set;let H=0;function ye(){if(H!==0)return;const e=ae;do{try{for(;H<F.length;){const t=F[H];H++,Y(t),$e(t.$$)}}catch(t){throw F.length=0,H=0,t}for(Y(null),F.length=0,H=0;de.length;)de.pop()();for(let t=0;t<K.length;t+=1){const n=K[t];re.has(n)||(re.add(n),n())}K.length=0}while(F.length);for(;pe.length;)pe.pop()();ue=!1,re.clear(),Y(e)}function $e(e){if(e.fragment!==null){e.update(),R(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(x)}}function Ve(e){const t=[],n=[];K.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),K=t}const Ue=new Set;function qe(e,t){e&&e.i&&(Ue.delete(e),e.i(t))}function T(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function He(e,t,n){const{fragment:l,after_update:o}=e.$$;l&&l.m(t,n),x(()=>{const r=e.$$.on_mount.map(Se).filter(we);e.$$.on_destroy?e.$$.on_destroy.push(...r):R(r),e.$$.on_mount=[]}),o.forEach(x)}function Te(e,t){const n=e.$$;n.fragment!==null&&(Ve(n.after_update),R(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Fe(e,t){e.$$.dirty[0]===-1&&(F.push(e),Pe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ke(e,t,n,l,o,r,a=null,g=[-1]){const p=ae;Y(e);const d=e.$$={fragment:null,ctx:[],props:r,update:Z,not_equal:o,bound:ce(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(p?p.$$.context:[])),callbacks:ce(),dirty:g,skip_bound:!1,root:t.target||p.$$.root};a&&a(d.root);let h=!1;if(d.ctx=n?n(e,t.props||{},(k,D,...B)=>{const b=B.length?B[0]:D;return d.ctx&&o(d.ctx[k],d.ctx[k]=b)&&(!d.skip_bound&&d.bound[k]&&d.bound[k](b),h&&Fe(e,k)),D}):[],d.update(),h=!0,R(d.before_update),d.fragment=l?l(d.ctx):!1,t.target){if(t.hydrate){const k=Me(t.target);d.fragment&&d.fragment.l(k),k.forEach(Q)}else d.fragment&&d.fragment.c();t.intro&&qe(e.$$.fragment),He(e,t.target,t.anchor),ye()}Y(p)}class Re{constructor(){se(this,"$$");se(this,"$$set")}$destroy(){Te(this,1),this.$destroy=Z}$on(t,n){if(!we(n))return Z;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(t){this.$$set&&!Je(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Qe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Qe);function ge(e,t,n){const l=e.slice();return l[27]=t[n],l[28]=t,l[29]=n,l}function he(e,t,n){const l=e.slice();return l[30]=t[n],l}function me(e,t,n){const l=e.slice();return l[33]=t[n],l}function _e(e){let t,n=new Date(e[33]).toLocaleDateString("lv")+"",l,o,r;return{c(){t=v("option"),l=U(n),o=y(),t.__value=r=e[33],G(t,t.__value)},m(a,g){ee(a,t,g),c(t,l),c(t,o)},p(a,g){g[0]&2&&n!==(n=new Date(a[33]).toLocaleDateString("lv")+"")&&X(l,n),g[0]&2&&r!==(r=a[33])&&(t.__value=r,G(t,t.__value))},d(a){a&&Q(t)}}}function ve(e){let t,n=e[30]+"",l,o;return{c(){t=v("option"),l=U(n),t.__value=o=e[30],G(t,t.__value)},m(r,a){ee(r,t,a),c(t,l)},p(r,a){a[0]&4&&n!==(n=r[30]+"")&&X(l,n),a[0]&4&&o!==(o=r[30])&&(t.__value=o,G(t,t.__value))},d(r){r&&Q(t)}}}function be(e){let t,n=e[27].vards+"",l,o,r,a,g=e[27].ieradies?"Ir":"Nav",p,d,h,k=e[27].iesniegums?"Ir iesniegums":"Nav iesniegums",D,B,b,O,C,J,A,z;function I(){return e[19](e[27])}function V(){return e[20](e[27])}function N(){e[21].call(b,e[28],e[29])}function q(){return e[22](e[27])}return{c(){t=v("div"),l=U(n),o=y(),r=v("div"),a=v("button"),p=U(g),d=y(),h=v("button"),D=U(k),B=y(),b=v("input"),O=y(),C=v("button"),C.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-trash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 7l16 0"></path><path d="M10 11l0 6"></path><path d="M14 11l0 6"></path><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path></svg>',J=y(),_(a,"class","ir svelte-11btmr7"),_(h,"class","lapina svelte-11btmr7"),le(h,"lap",e[27].iesniegums),_(b,"class","robotId svelte-11btmr7"),_(b,"type","number"),_(C,"class","delete svelte-11btmr7"),_(r,"class","actions svelte-11btmr7"),_(t,"class","skolens svelte-11btmr7"),le(t,"ieradies",e[27].ieradies)},m(L,j){ee(L,t,j),c(t,l),c(t,o),c(t,r),c(r,a),c(a,p),c(r,d),c(r,h),c(h,D),c(r,B),c(r,b),G(b,e[27].komplektaId),c(r,O),c(r,C),c(t,J),A||(z=[E(a,"click",I),E(h,"click",V),E(b,"input",N),E(C,"click",q)],A=!0)},p(L,j){e=L,j[0]&8&&n!==(n=e[27].vards+"")&&X(l,n),j[0]&8&&g!==(g=e[27].ieradies?"Ir":"Nav")&&X(p,g),j[0]&8&&k!==(k=e[27].iesniegums?"Ir iesniegums":"Nav iesniegums")&&X(D,k),j[0]&8&&le(h,"lap",e[27].iesniegums),j[0]&8&&Ie(b.value)!==e[27].komplektaId&&G(b,e[27].komplektaId),j[0]&8&&le(t,"ieradies",e[27].ieradies)},d(L){L&&Q(t),A=!1,R(z)}}}function ke(e){let t,n=e[27].grupa===e[4]&&be(e);return{c(){n&&n.c(),t=Ge()},m(l,o){n&&n.m(l,o),ee(l,t,o)},p(l,o){l[27].grupa===l[4]?n?n.p(l,o):(n=be(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(l){l&&Q(t),n&&n.d(l)}}}function We(e){let t,n,l,o,r,a,g,p,d,h,k,D,B,b,O,C,J,A,z,I,V,N,q,L,j,te,P=T(e[1]),S=[];for(let u=0;u<P.length;u+=1)S[u]=_e(me(e,P,u));let $=T(e[2]),s=[];for(let u=0;u<$.length;u+=1)s[u]=ve(he(e,$,u));let f=T(e[3]),m=[];for(let u=0;u<f.length;u+=1)m[u]=ke(ge(e,f,u));return{c(){t=v("main"),n=v("div"),l=v("button"),l.textContent="Saglabāt",o=y(),r=v("button"),r.textContent="Jauna grupa",a=y(),g=v("button"),g.textContent="Dzēst grupu",p=y(),d=v("div"),h=v("input"),k=y(),D=v("button"),D.textContent="Jauna diena",B=y(),b=v("div"),O=v("input"),C=y(),J=v("button"),J.textContent="Pievienot",A=y(),z=v("div"),I=v("select");for(let u=0;u<S.length;u+=1)S[u].c();V=y(),N=v("select");for(let u=0;u<s.length;u+=1)s[u].c();q=y(),L=v("div");for(let u=0;u<m.length;u+=1)m[u].c();_(l,"class","svelte-11btmr7"),_(r,"class","svelte-11btmr7"),_(g,"class","svelte-11btmr7"),_(h,"type","date"),_(D,"class","svelte-11btmr7"),_(d,"class","line svelte-11btmr7"),_(O,"type","text"),_(O,"placeholder","Vārds Uzvārds"),_(J,"class","svelte-11btmr7"),_(b,"class","line svelte-11btmr7"),_(I,"name","date"),_(I,"id","date"),e[0]===void 0&&x(()=>e[17].call(I)),_(N,"name","group"),_(N,"id","group"),e[4]===void 0&&x(()=>e[18].call(N)),_(z,"class","line svelte-11btmr7"),_(n,"class","controls svelte-11btmr7"),_(L,"class","grid svelte-11btmr7")},m(u,w){ee(u,t,w),c(t,n),c(n,l),c(n,o),c(n,r),c(n,a),c(n,g),c(n,p),c(n,d),c(d,h),G(h,e[5]),c(d,k),c(d,D),c(n,B),c(n,b),c(b,O),G(O,e[6]),c(b,C),c(b,J),c(n,A),c(n,z),c(z,I);for(let i=0;i<S.length;i+=1)S[i]&&S[i].m(I,null);ne(I,e[0],!0),c(z,V),c(z,N);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(N,null);ne(N,e[4],!0),c(t,q),c(t,L);for(let i=0;i<m.length;i+=1)m[i]&&m[i].m(L,null);j||(te=[E(l,"click",e[8]),E(r,"click",e[9]),E(g,"click",e[10]),E(h,"input",e[15]),E(D,"click",e[7]),E(O,"input",e[16]),E(J,"click",e[11]),E(I,"change",e[17]),E(N,"change",e[18])],j=!0)},p(u,w){if(w[0]&32&&G(h,u[5]),w[0]&64&&O.value!==u[6]&&G(O,u[6]),w[0]&2){P=T(u[1]);let i;for(i=0;i<P.length;i+=1){const M=me(u,P,i);S[i]?S[i].p(M,w):(S[i]=_e(M),S[i].c(),S[i].m(I,null))}for(;i<S.length;i+=1)S[i].d(1);S.length=P.length}if(w[0]&3&&ne(I,u[0]),w[0]&4){$=T(u[2]);let i;for(i=0;i<$.length;i+=1){const M=he(u,$,i);s[i]?s[i].p(M,w):(s[i]=ve(M),s[i].c(),s[i].m(N,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=$.length}if(w[0]&20&&ne(N,u[4]),w[0]&28696){f=T(u[3]);let i;for(i=0;i<f.length;i+=1){const M=ge(u,f,i);m[i]?m[i].p(M,w):(m[i]=ke(M),m[i].c(),m[i].m(L,null))}for(;i<m.length;i+=1)m[i].d(1);m.length=f.length}},i:Z,o:Z,d(u){u&&Q(t),oe(S,u),oe(s,u),oe(m,u),j=!1,R(te)}}}function Xe(e,t,n){let l,o=[],r=[],a=[],g,p,d,h="";const k=localStorage.getItem("pulcins");if(k){const s=JSON.parse(k);console.log("saglabāto datu versija",s.versija),s.versija===1?(l=2,o=[],r=s.grupas,a=s.skoleni):(l=s.versija,o=s.dienas,g=o[o.length-1])}else console.log("Saglabātie dati netika atrasti!"),l=2,o=[],r=[],a=[];function D(s){if(console.log("lādējam datus no",s),!s){console.log("nav datuma");return}const f=new Date(s),m=localStorage.getItem(`pulcins=${f.toDateString()}`);if(!m){console.error(`datumā ${s} netika atrasti dati`);return}const u=JSON.parse(m);n(2,r=u.grupas),n(3,a=u.skoleni),r.find(i=>i===p)?n(4,p):n(4,p=u.grupas[0])}function B(s){console.log("saglabājam datus dienai",s);const f=new Date(s),m=localStorage.getItem(`pulcins=${f.toDateString()}`);if(m){const i=JSON.parse(m);if(i.grupas.find(W=>W===p)){console.log("pārrakstām datus");const W=i.skoleni.filter(ie=>ie.grupa!==p),Oe=a.filter(ie=>ie.grupa===p),Le={grupas:i.grupas,skoleni:[...W,...Oe]};localStorage.setItem(`pulcins=${f.toDateString()}`,JSON.stringify(Le));let Ee={versija:l,dienas:o};localStorage.setItem("pulcins",JSON.stringify(Ee));return}const De=a.filter(W=>W.grupa===p),Ne={grupas:[...i.grupas,p],skoleni:[...i.skoleni,...De]};localStorage.setItem(`pulcins=${f.toDateString()}`,JSON.stringify(Ne));let je={versija:l,dienas:o};localStorage.setItem("pulcins",JSON.stringify(je));return}const u={grupas:[p],skoleni:[...a]};localStorage.setItem(`pulcins=${f.toDateString()}`,JSON.stringify(u));let w={versija:l,dienas:o};localStorage.setItem("pulcins",JSON.stringify(w))}function b(){if(console.log("izveidojam ierakstu jaunam datumam",d),!d){alert("Datums nevar būt tukšs");return}const s=new Date(d);confirm(`Visi nesaglabātie dati tiks zaudēti?
Vai vēlaties saglabāt?`)&&B(g);const m=localStorage.getItem(`pulcins=${s.toDateString()}`);if(m){if(JSON.parse(m).grupas.find(i=>i===p)&&!confirm(`Dienā "${s.toLocaleDateString("lv")}" jau eksistē dati grupai "${p}"
Vai vēlaties pārrakstīt šos datus?`))return}else n(1,o=[...o,s.toDateString()]);n(3,a=a.map(u=>(u.ieradies=!1,u))),B(s.toDateString()),n(0,g=s.toDateString()),alert("Diena izveidota")}function O(){B(g),alert("Dati saglabāti")}function C(){if(!g){alert("Lūdzu vispirms pievienojiet jaunu dienu");return}const s=prompt("Grupas nosaukums:");if(!s){alert("Grupas nosaukums nedrīkst būt tukšs!");return}n(2,r=[...r,s]),n(4,p=s)}function J(){const s=prompt("Ievadi grupas nosakumu");if(!s){alert("Grupas nosaukums nedrīkst būt tukšs");return}n(2,r=r.filter(f=>f!==s)),n(3,a=a.filter(f=>f.grupa!==s)),p===s&&n(4,p=r[0]),console.log(r),console.log(a),window.alert("Grupa izdēsta")}function A(){if(!g){alert("Lūdzu vispirms pievienojiet jaunu dienu");return}if(!p){alert("Lūdzu vispirms pievienojiet jaunu grupu");return}if(!h){alert("Skolēna vārds nevar būt tukšs");return}console.log("jauns skolēns:",h,"grupā:",p);const s={id:crypto.randomUUID(),vards:h,grupa:p,ieradies:!1,iesniegums:!1,komplektaId:0};n(3,a=[...a,s]),n(6,h="")}function z(s){a.forEach(f=>{f.id===s&&(f.ieradies=!f.ieradies,console.log(`${f.vards} ieradies: ${f.ieradies}`))}),n(3,a)}function I(s){a.forEach(f=>{f.id===s&&(f.iesniegums=!f.iesniegums,console.log(`${f.vards} iesniegums: ${f.iesniegums}`))}),n(3,a)}function V(s){n(3,a=a.filter(f=>f.id!==s)),console.log("skolēns izdzēsts")}function N(){d=this.value,n(5,d)}function q(){h=this.value,n(6,h)}function L(){g=fe(this),n(0,g),n(1,o)}function j(){p=fe(this),n(4,p),n(2,r)}const te=s=>z(s.id),P=s=>I(s.id);function S(s,f){s[f].komplektaId=Ie(this.value),n(3,a)}const $=s=>V(s.id);return e.$$.update=()=>{e.$$.dirty[0]&1&&D(g)},[g,o,r,a,p,d,h,b,O,C,J,A,z,I,V,N,q,L,j,te,P,S,$]}class Ye extends Re{constructor(t){super(),Ke(this,t,Xe,We,Ce,{},null,[-1,-1])}}new Ye({target:document.getElementById("app")});
